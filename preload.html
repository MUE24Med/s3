<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      position: relative;
      padding: 20px;
    }

    /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ± */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.2);
      border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb {
      background: linear-gradient(to bottom, #3498db, #2ecc71);
      border-radius: 10px;
    }

    /* Ø®Ù„ÙÙŠØ© Ù…ØªØ­Ø±ÙƒØ© - Ù‚Ø·Ø§Ø± Ø³Ø±ÙŠØ¹ */
    .bg-animation {
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: 0;
      overflow: hidden;
    }

    .train-track {
      position: absolute;
      bottom: 20%;
      width: 100%;
      height: 15px;
      background: linear-gradient(to right, #444, #777, #444);
      box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
    }

    .train {
      position: absolute;
      bottom: 21%;
      width: 180px;
      height: 70px;
      background: linear-gradient(to right, #e74c3c, #c0392b);
      border-radius: 10px 10px 0 0;
      animation: trainMove 12s linear infinite;
      transform: translateX(100vw);
    }

    .train::before {
      content: '';
      position: absolute;
      width: 40px;
      height: 40px;
      background: #f1c40f;
      border-radius: 50%;
      top: -20px;
      left: 15px;
      box-shadow: 60px 0 0 #f1c40f, 120px 0 0 #f1c40f;
    }

    .train-window {
      position: absolute;
      width: 25px;
      height: 25px;
      background: #3498db;
      border-radius: 50%;
      top: 15px;
      left: 20px;
      box-shadow: 40px 0 0 #3498db, 80px 0 0 #3498db, 120px 0 0 #3498db;
    }

    @keyframes trainMove {
      0% { transform: translateX(100vw); }
      100% { transform: translateX(-180px); }
    }

    .coin {
      position: absolute;
      width: 25px;
      height: 25px;
      background: radial-gradient(circle at 30% 30%, #FFD700, #FFA500);
      border-radius: 50%;
      animation: floatUp 15s infinite linear;
      box-shadow: 0 0 10px rgba(255, 215, 0, 0.7);
    }

    @keyframes floatUp {
      0% { 
        transform: translateY(100vh) rotate(0deg);
        opacity: 1;
      }
      100% { 
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
      }
    }

    /* Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
    .container {
      position: relative;
      z-index: 1;
      text-align: center;
      padding: 30px;
      background: rgba(20, 30, 40, 0.95);
      backdrop-filter: blur(15px);
      border-radius: 25px;
      border: 2px solid rgba(52, 152, 219, 0.3);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5), 
                  inset 0 1px 0 rgba(255, 255, 255, 0.1);
      max-width: 500px;
      width: 90%;
      max-height: 90vh;
      overflow-y: auto;
    }

    /* Ø§Ù„Ø´Ø¹Ø§Ø± */
    .logo {
      width: 120px;
      height: 120px;
      margin: 0 auto 20px;
      background: linear-gradient(135deg, #3498db 0%, #2c3e50 100%);
      border-radius: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 60px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4), 
                  inset 0 4px 10px rgba(255, 255, 255, 0.2);
      animation: float 3s ease-in-out infinite;
      position: relative;
      overflow: hidden;
    }

    .logo::after {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(
        to bottom right,
        rgba(255, 255, 255, 0) 0%,
        rgba(255, 255, 255, 0.1) 50%,
        rgba(255, 255, 255, 0) 100%
      );
      transform: rotate(30deg);
      animation: shine 3s infinite;
    }

    @keyframes shine {
      0% { transform: translateX(-100%) translateY(-100%) rotate(30deg); }
      100% { transform: translateX(100%) translateY(100%) rotate(30deg); }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-15px); }
    }

    h1 {
      color: white;
      font-size: 28px;
      margin-bottom: 15px;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
      background: linear-gradient(to right, #3498db, #2ecc71);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      font-weight: 700;
    }

    .subtitle {
      color: rgba(255, 255, 255, 0.85);
      font-size: 16px;
      margin-bottom: 20px;
      line-height: 1.6;
    }

    /* Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
    .progress-container {
      position: relative;
      width: 200px;
      height: 200px;
      margin: 25px auto;
    }

    .progress-ring {
      transform: rotate(-90deg);
    }

    .progress-ring-circle {
      transition: stroke-dashoffset 0.5s ease;
      transform-origin: 50% 50%;
    }

    .progress-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 36px;
      font-weight: bold;
      color: white;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
    }

    /* Ù„Ø¹Ø¨Ø© Subway Surfers */
    .game-container {
      margin-top: 25px;
      padding: 20px;
      background: rgba(30, 40, 50, 0.8);
      border-radius: 15px;
      border: 1px solid rgba(52, 152, 219, 0.3);
      position: relative;
      overflow: hidden;
      max-height: 400px;
      overflow-y: auto;
    }

    .game-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        repeating-linear-gradient(
          90deg,
          transparent,
          transparent 20px,
          rgba(52, 152, 219, 0.05) 20px,
          rgba(52, 152, 219, 0.05) 40px
        );
      z-index: 0;
    }

    .game-title {
      color: white;
      font-size: 18px;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      position: relative;
      z-index: 1;
    }

    .game-area {
      width: 100%;
      height: 280px; /* Ù…Ø¯Ø¯Øª Ø·ÙˆÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø© */
      background: linear-gradient(to bottom, #1a2530, #2c3e50);
      border-radius: 10px;
      position: relative;
      overflow: hidden;
      margin-bottom: 15px;
      border: 2px solid rgba(255, 255, 255, 0.1);
    }

    .track {
      position: absolute;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: space-around;
    }

    .lane {
      width: 60px;
      height: 100%;
      position: relative;
    }

    .lane::after {
      content: '';
      position: absolute;
      width: 4px;
      height: 200%;
      background: repeating-linear-gradient(
        to bottom,
        rgba(255, 255, 255, 0.5),
        rgba(255, 255, 255, 0.5) 15px,
        transparent 15px,
        transparent 30px
      );
      left: 50%;
      transform: translateX(-50%);
      animation: trackMove 2s linear infinite;
    }

    @keyframes trackMove {
      0% { transform: translateX(-50%) translateY(0); }
      100% { transform: translateX(-50%) translateY(-30px); }
    }

    /* Ø§Ù„Ø´Ø®ØµÙŠØ© Ø§Ù„ØªÙŠ ØªØ¬Ø±ÙŠ */
    .runner {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 2;
      transition: left 0.2s ease;
      width: 40px;
      height: 80px;
    }

    .runner-body {
      position: absolute;
      width: 40px;
      height: 60px;
      background: linear-gradient(to bottom, #3498db, #2980b9);
      border-radius: 8px 8px 0 0;
      bottom: 0;
      transition: all 0.3s ease;
    }

    .runner-head {
      position: absolute;
      width: 30px;
      height: 30px;
      background: #f39c12;
      border-radius: 50%;
      top: -25px;
      left: 5px;
    }

    .runner-arm {
      position: absolute;
      width: 15px;
      height: 40px;
      background: #3498db;
      top: 10px;
      border-radius: 7px;
      transition: transform 0.3s ease;
    }

    .runner-arm.left {
      left: -10px;
      transform-origin: right top;
    }

    .runner-arm.right {
      right: -10px;
      transform-origin: left top;
    }

    .runner-leg {
      position: absolute;
      width: 15px;
      height: 35px;
      background: #2980b9;
      bottom: 0;
      border-radius: 5px;
      transition: transform 0.3s ease;
    }

    .runner-leg.left {
      left: 5px;
    }

    .runner-leg.right {
      right: 5px;
    }

    /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ù‚ÙØ² */
    .runner.jumping .runner-body {
      height: 50px;
      transform: translateY(-40px);
    }

    .runner.jumping .runner-arm {
      transform: rotate(-20deg);
    }

    .runner.jumping .runner-arm.right {
      transform: rotate(20deg);
    }

    .runner.jumping .runner-leg {
      transform: rotate(-10deg);
    }

    .runner.jumping .runner-leg.right {
      transform: rotate(10deg);
    }

    .obstacle {
      position: absolute;
      width: 50px;
      height: 40px;
      background: linear-gradient(to bottom, #e74c3c, #c0392b);
      border-radius: 5px;
      z-index: 1;
    }

    .coin-item {
      position: absolute;
      width: 20px;
      height: 20px;
      background: radial-gradient(circle at 30% 30%, #FFD700, #FFA500);
      border-radius: 50%;
      z-index: 1;
      animation: coinSpin 2s infinite linear;
    }

    @keyframes coinSpin {
      0% { transform: rotateY(0deg); }
      100% { transform: rotateY(360deg); }
    }

    .game-controls {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 15px;
      flex-wrap: wrap;
    }

    .control-btn {
      padding: 12px 20px;
      background: linear-gradient(to bottom, #3498db, #2980b9);
      border: none;
      border-radius: 30px;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.2s ease;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      flex: 1;
      min-width: 100px;
    }

    .control-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
    }

    .control-btn:active {
      transform: translateY(0);
    }

    .control-btn.jump-btn {
      background: linear-gradient(to bottom, #2ecc71, #27ae60);
      order: 1;
      width: 100%;
      margin-top: 10px;
    }

    .game-stats {
      display: flex;
      justify-content: space-around;
      margin-top: 15px;
      color: white;
      font-size: 14px;
      position: relative;
      z-index: 1;
    }

    .stat {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
    }

    .stat-value {
      font-size: 20px;
      font-weight: bold;
      color: #2ecc71;
    }

    /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
    .load-controls {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 20px;
    }

    .load-btn {
      padding: 12px 25px;
      background: linear-gradient(to right, #9b59b6, #8e44ad);
      border: none;
      border-radius: 30px;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 5px 20px rgba(155, 89, 182, 0.4);
      flex: 1;
      max-width: 200px;
    }

    .load-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(155, 89, 182, 0.6);
    }

    .load-btn.skip-btn {
      background: linear-gradient(to right, #e74c3c, #c0392b);
    }

    .load-btn.play-btn {
      background: linear-gradient(to right, #2ecc71, #27ae60);
    }

    /* Ø§Ù„ØªÙ†ÙˆÙŠÙ‡ */
    .notice {
      margin-top: 20px;
      padding: 15px;
      background: linear-gradient(to right, rgba(52, 152, 219, 0.2), rgba(46, 204, 113, 0.2));
      border: 1px solid rgba(52, 152, 219, 0.4);
      border-radius: 10px;
      color: white;
      font-size: 13px;
      line-height: 1.5;
      display: flex;
      align-items: center;
      gap: 10px;
      position: relative;
      z-index: 1;
    }

    /* Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø­Ø§Ù„Ø© */
    .status-messages {
      margin-top: 20px;
      min-height: 30px;
    }

    .status-message {
      color: rgba(255, 255, 255, 0.9);
      font-size: 14px;
      padding: 8px 15px;
      background: rgba(30, 40, 50, 0.7);
      border-radius: 20px;
      display: inline-block;
      animation: fadeIn 0.5s ease;
      border: 1px solid rgba(52, 152, 219, 0.3);
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Ø´Ø§Ø´Ø§Øª ØµØºÙŠØ±Ø© */
    @media (max-width: 480px) {
      .container {
        padding: 20px;
        max-height: 95vh;
      }

      h1 {
        font-size: 24px;
      }

      .logo {
        width: 80px;
        height: 80px;
        font-size: 40px;
      }

      .progress-container {
        width: 150px;
        height: 150px;
      }

      .progress-text {
        font-size: 28px;
      }

      .game-area {
        height: 250px;
      }

      .lane {
        width: 50px;
      }

      .control-btn {
        padding: 10px 15px;
        min-width: 80px;
      }

      .load-btn {
        padding: 10px 20px;
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
  <!-- Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© -->
  <div class="bg-animation" id="bg-animation">
    <div class="train-track"></div>
    <div class="train">
      <div class="train-window"></div>
    </div>
  </div>

  <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
  <div class="container">
    <div class="logo">ğŸš‡</div>
    <h1>Ø®Ø±ÙŠØ·Ø© semester-3</h1>
    <p class="subtitle">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆØ¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚...</p>

    <!-- Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„ØªÙ‚Ø¯Ù… -->
    <div class="progress-container">
      <svg class="progress-ring" width="200" height="200">
        <circle
          class="progress-ring-circle"
          stroke="rgba(255, 255, 255, 0.1)"
          stroke-width="12"
          fill="transparent"
          r="90"
          cx="100"
          cy="100"
        />
        <circle
          id="progress-circle"
          class="progress-ring-circle"
          stroke="url(#gradient)"
          stroke-width="12"
          fill="transparent"
          r="90"
          cx="100"
          cy="100"
          stroke-dasharray="565.48"
          stroke-dashoffset="565.48"
          stroke-linecap="round"
        />
        <defs>
          <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#3498db;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#2ecc71;stop-opacity:1" />
          </linearGradient>
        </defs>
      </svg>
      <div class="progress-text" id="progress-text">0%</div>
    </div>

    <!-- Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø­Ø§Ù„Ø© -->
    <div class="status-messages">
      <div class="status-message" id="status-message">Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
    </div>

    <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„ -->
    <div class="load-controls">
      <button class="load-btn skip-btn" id="skip-btn">ØªØ®Ø·ÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</button>
      <button class="load-btn play-btn" id="play-game-btn">ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
    </div>

    <!-- Ù„Ø¹Ø¨Ø© Subway Surfers -->
    <div class="game-container" id="game-container" style="display: none;">
      <div class="game-title">
        <span>ğŸ®</span>
        <span>Subway Surfers - ØªØ¬Ù†Ø¨ Ø§Ù„Ø¹ÙˆØ§Ø¦Ù‚ ÙˆØ§Ø¬Ù…Ø¹ Ø§Ù„Ø¹Ù…Ù„Ø§Øª!</span>
      </div>
      
      <div class="game-area" id="game-area">
        <div class="track" id="track">
          <div class="lane"></div>
          <div class="lane"></div>
          <div class="lane"></div>
        </div>
        <div class="runner" id="runner">
          <div class="runner-head"></div>
          <div class="runner-arm left"></div>
          <div class="runner-arm right"></div>
          <div class="runner-body"></div>
          <div class="runner-leg left"></div>
          <div class="runner-leg right"></div>
        </div>
      </div>
      
      <div class="game-controls">
        <button class="control-btn" id="left-btn">â—€ ÙŠØ³Ø§Ø±</button>
        <button class="control-btn" id="right-btn">ÙŠÙ…ÙŠÙ† â–¶</button>
        <button class="control-btn jump-btn" id="jump-btn">â¬† Ù‚ÙØ²</button>
      </div>
      
      <div class="game-stats">
        <div class="stat">
          <div class="stat-value" id="score">0</div>
          <div>Ø§Ù„Ù†ØªÙŠØ¬Ø©</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="coins">0</div>
          <div>Ø¹Ù…Ù„Ø§Øª</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="high-score">0</div>
          <div>Ø£ÙØ¶Ù„ Ù†ØªÙŠØ¬Ø©</div>
        </div>
      </div>

      <button class="load-btn" id="back-to-load-btn" style="margin-top: 15px; width: 100%;">
        Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
      </button>
    </div>

    <!-- Ø§Ù„ØªÙ†ÙˆÙŠÙ‡ -->
    <div class="notice">
      <span>âš¡</span>
      <span>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø³ÙŠØªÙ… ØªØ®Ø²ÙŠÙ†Ù‡Ø§ ÙÙŠ Ø°Ø§ÙƒØ±Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª Ù„ØªØ­Ù…ÙŠÙ„ Ø£Ø³Ø±Ø¹ ÙÙŠ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©!</span>
    </div>
  </div>

  <script>
    // ===== Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ© =====
    const bgAnimation = document.getElementById('bg-animation');
    for (let i = 0; i < 8; i++) {
      const coin = document.createElement('div');
      coin.className = 'coin';
      coin.style.left = Math.random() * 100 + '%';
      coin.style.animationDelay = Math.random() * 5 + 's';
      coin.style.width = Math.random() * 20 + 15 + 'px';
      coin.style.height = coin.style.width;
      bgAnimation.appendChild(coin);
    }

    // ===== Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­Ù…ÙŠÙ„ =====
    const progressCircle = document.getElementById('progress-circle');
    const progressText = document.getElementById('progress-text');
    const statusMessage = document.getElementById('status-message');
    const skipBtn = document.getElementById('skip-btn');
    const playGameBtn = document.getElementById('play-game-btn');
    const gameContainer = document.getElementById('game-container');
    const circumference = 2 * Math.PI * 90;

    const statusMessages = [
      'ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ØµÙˆÙ„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©...',
      'ØªØ­Ù…ÙŠÙ„ Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª...',
      'ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø®Ø·ÙˆØ· ÙˆØ§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª...',
      'ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† GitHub...',
      'Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…...',
      'ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡...',
      'ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª...',
      'Ø§ÙƒØªÙ…Ù„ Ø§Ù„ØªØ­Ù…ÙŠÙ„! ğŸ‰'
    ];

    let currentProgress = 0;
    let targetProgress = 0;
    let isSkipped = false;
    let isGameActive = false;

    function updateProgress(percent) {
      targetProgress = Math.min(100, Math.max(0, percent));
    }

    function animateProgress() {
      if (currentProgress < targetProgress) {
        currentProgress += 0.8;
        if (currentProgress > targetProgress) currentProgress = targetProgress;
      }

      const offset = circumference - (currentProgress / 100) * circumference;
      progressCircle.style.strokeDashoffset = offset;
      progressText.textContent = Math.round(currentProgress) + '%';

      // ØªØ­Ø¯ÙŠØ« Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„Ø©
      const messageIndex = Math.min(
        Math.floor((currentProgress / 100) * statusMessages.length),
        statusMessages.length - 1
      );
      if (statusMessage.textContent !== statusMessages[messageIndex]) {
        statusMessage.style.animation = 'none';
        setTimeout(() => {
          statusMessage.textContent = statusMessages[messageIndex];
          statusMessage.style.animation = 'fadeIn 0.5s ease';
        }, 50);
      }

      // Ø¥Ø°Ø§ Ø§ÙƒØªÙ…Ù„ Ø§Ù„ØªØ­Ù…ÙŠÙ„
      if (currentProgress >= 100 && !isGameActive) {
        setTimeout(() => {
          window.location.href = 'index.html';
        }, 1500);
      }
    }

    // Ø²Ø± Ø§Ù„ØªØ®Ø·ÙŠ
    skipBtn.addEventListener('click', () => {
      isSkipped = true;
      targetProgress = 100;
      statusMessage.textContent = 'ØªØ®Ø·ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...';
      statusMessage.style.animation = 'fadeIn 0.5s ease';
    });

    // Ø²Ø± ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
    playGameBtn.addEventListener('click', () => {
      gameContainer.style.display = 'block';
      isGameActive = true;
      playGameBtn.style.display = 'none';
      skipBtn.style.display = 'none';
      statusMessage.textContent = 'Ø§Ù„Ù„Ø¹Ø¨Ø© Ù†Ø´Ø·Ø© - Ø§Ø³ØªÙ…ØªØ¹!';
      
      // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ø¨Ø¯Ø£Øª
      if (!gameInterval) {
        startGame();
      }
    });

    animateProgress();

    // ===== Ù„Ø¹Ø¨Ø© Subway Surfers =====
    const gameArea = document.getElementById('game-area');
    const runner = document.getElementById('runner');
    const leftBtn = document.getElementById('left-btn');
    const rightBtn = document.getElementById('right-btn');
    const jumpBtn = document.getElementById('jump-btn');
    const backToLoadBtn = document.getElementById('back-to-load-btn');
    const scoreEl = document.getElementById('score');
    const coinsEl = document.getElementById('coins');
    const highScoreEl = document.getElementById('high-score');

    let playerPosition = 1; // 0: ÙŠØ³Ø§Ø±, 1: ÙˆØ³Ø·, 2: ÙŠÙ…ÙŠÙ†
    let isJumping = false;
    let score = 0;
    let coins = 0;
    let highScore = localStorage.getItem('subwayHighScore') || 0;
    let gameInterval;
    let obstacles = [];
    let coinItems = [];

    highScoreEl.textContent = highScore;

    // ØªØ­Ø¯ÙŠØ« Ù…ÙˆØ¶Ø¹ Ø§Ù„Ù„Ø§Ø¹Ø¨
    function updatePlayerPosition() {
      const laneWidth = gameArea.offsetWidth / 3;
      const leftPosition = playerPosition * laneWidth + laneWidth / 2;
      runner.style.left = leftPosition + 'px';
    }

    // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ø§Ø¦Ù‚
    function createObstacle() {
      const obstacle = document.createElement('div');
      obstacle.className = 'obstacle';
      const lane = Math.floor(Math.random() * 3);
      const laneWidth = gameArea.offsetWidth / 3;
      obstacle.style.left = lane * laneWidth + laneWidth / 2 - 25 + 'px';
      obstacle.style.top = '-40px';
      gameArea.appendChild(obstacle);
      
      obstacles.push({
        element: obstacle,
        lane: lane,
        top: -40
      });
    }

    // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù…Ù„Ø©
    function createCoin() {
      const coin = document.createElement('div');
      coin.className = 'coin-item';
      const lane = Math.floor(Math.random() * 3);
      const laneWidth = gameArea.offsetWidth / 3;
      coin.style.left = lane * laneWidth + laneWidth / 2 - 10 + 'px';
      coin.style.top = '-20px';
      gameArea.appendChild(coin);
      
      coinItems.push({
        element: coin,
        lane: lane,
        top: -20
      });
    }

    // ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø¹ÙˆØ§Ø¦Ù‚ ÙˆØ§Ù„Ø¹Ù…Ù„Ø§Øª
    function moveItems() {
      // ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø¹ÙˆØ§Ø¦Ù‚
      for (let i = obstacles.length - 1; i >= 0; i--) {
        const obstacle = obstacles[i];
        obstacle.top += 4;
        obstacle.element.style.top = obstacle.top + 'px';
        
        // Ø§ÙƒØªØ´Ø§Ù Ø§Ù„ØªØµØ§Ø¯Ù…
        if (obstacle.lane === playerPosition && obstacle.top > 180 && obstacle.top < 220 && !isJumping) {
          gameOver();
          return;
        }
        
        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ø§Ø¦Ù‚ Ø¥Ø°Ø§ ØªØ¬Ø§ÙˆØ² Ø§Ù„Ø´Ø§Ø´Ø©
        if (obstacle.top > gameArea.offsetHeight) {
          obstacle.element.remove();
          obstacles.splice(i, 1);
          score += 5;
          scoreEl.textContent = score;
        }
      }
      
      // ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø¹Ù…Ù„Ø§Øª
      for (let i = coinItems.length - 1; i >= 0; i--) {
        const coin = coinItems[i];
        coin.top += 3;
        coin.element.style.top = coin.top + 'px';
        
        // Ø¬Ù…Ø¹ Ø§Ù„Ø¹Ù…Ù„Ø©
        if (coin.lane === playerPosition && coin.top > 180 && coin.top < 220 && !isJumping) {
          coin.element.remove();
          coinItems.splice(i, 1);
          coins += 1;
          coinsEl.textContent = coins;
          score += 10;
          scoreEl.textContent = score;
          playCoinSound();
        }
        
        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ù…Ù„Ø© Ø¥Ø°Ø§ ØªØ¬Ø§ÙˆØ²Øª Ø§Ù„Ø´Ø§Ø´Ø©
        if (coin.top > gameArea.offsetHeight) {
          coin.element.remove();
          coinItems.splice(i, 1);
        }
      }
    }

    // Ø§Ù„Ù‚ÙØ²
    function jump() {
      if (isJumping) return;
      
      isJumping = true;
      runner.classList.add('jumping');
      
      setTimeout(() => {
        runner.classList.remove('jumping');
        setTimeout(() => {
          isJumping = false;
        }, 200);
      }, 500);
    }

    // Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø©
    function gameOver() {
      clearInterval(gameInterval);
      
      // ØªØ­Ø¯ÙŠØ« Ø£ÙØ¶Ù„ Ù†ØªÙŠØ¬Ø©
      if (score > highScore) {
        highScore = score;
        highScoreEl.textContent = highScore;
        localStorage.setItem('subwayHighScore', highScore);
      }
      
      // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø©
      setTimeout(() => {
        alert(`Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©!\nÙ†ØªÙŠØ¬ØªÙƒ: ${score}\nØ§Ù„Ø¹Ù…Ù„Ø§Øª: ${coins}\nØ£ÙØ¶Ù„ Ù†ØªÙŠØ¬Ø©: ${highScore}`);
      }, 300);
    }

    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©
    function restartGame() {
      // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹ÙˆØ§Ø¦Ù‚ ÙˆØ§Ù„Ø¹Ù…Ù„Ø§Øª
      obstacles.forEach(obstacle => obstacle.element.remove());
      coinItems.forEach(coin => coin.element.remove());
      obstacles = [];
      coinItems = [];
      
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù‚ÙŠÙ…
      score = 0;
      coins = 0;
      playerPosition = 1;
      isJumping = false;
      scoreEl.textContent = score;
      coinsEl.textContent = coins;
      runner.classList.remove('jumping');
      updatePlayerPosition();
      
      // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…Ù† Ø¬Ø¯ÙŠØ¯
      startGame();
    }

    // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
    function startGame() {
      gameInterval = setInterval(() => {
        moveItems();
        
        // Ø¥Ù†Ø´Ø§Ø¡ Ø¹ÙˆØ§Ø¦Ù‚ ÙˆØ¹Ù…Ù„Ø§Øª Ø¨Ø´ÙƒÙ„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
        if (Math.random() < 0.03) {
          createObstacle();
        }
        if (Math.random() < 0.04) {
          createCoin();
        }
      }, 50);
    }

    // Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
    backToLoadBtn.addEventListener('click', () => {
      gameContainer.style.display = 'none';
      isGameActive = false;
      playGameBtn.style.display = 'block';
      skipBtn.style.display = 'block';
      statusMessage.textContent = 'Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆØ¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚...';
      
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù„Ø¹Ø¨Ø©
      restartGame();
    });

    // ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ù„Ø§Ø¹Ø¨
    leftBtn.addEventListener('click', () => {
      if (playerPosition > 0) {
        playerPosition--;
        updatePlayerPosition();
      }
    });

    rightBtn.addEventListener('click', () => {
      if (playerPosition < 2) {
        playerPosition++;
        updatePlayerPosition();
      }
    });

    jumpBtn.addEventListener('click', jump);

    // Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­
    document.addEventListener('keydown', (e) => {
      if (!isGameActive) return;
      
      if (e.key === 'ArrowLeft' || e.key === 'a' || e.key === 'A') {
        if (playerPosition > 0) {
          playerPosition--;
          updatePlayerPosition();
        }
      } else if (e.key === 'ArrowRight' || e.key === 'd' || e.key === 'D') {
        if (playerPosition < 2) {
          playerPosition++;
          updatePlayerPosition();
        }
      } else if (e.key === 'ArrowUp' || e.key === 'w' || e.key === 'W' || e.key === ' ') {
        jump();
      }
    });

    // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¹Ù†Ø¯ Ø¹Ø±Ø¶Ù‡Ø§
    setTimeout(() => {
      updatePlayerPosition();
    }, 100);

    // Ù…Ø­Ø§ÙƒØ§Ø© ØµÙˆØª Ø§Ù„Ø¹Ù…Ù„Ø©
    function playCoinSound() {
      // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© ØµÙˆØª Ù‡Ù†Ø§
      console.log('Coin collected!');
    }

    // ===== Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ =====
    const filesToLoad = [
      'image/wood.webp',
      'image/Upper_wood.webp',
      'image/logo-A.webp',
      'image/logo-B.webp',
      'image/logo-C.webp',
      'image/logo-D.webp',
      'image/0.png',
      'style.css',
      'script.js',
      'tracker.js'
    ];

    let loadedCount = 0;
    const totalFiles = filesToLoad.length + 5;

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ÙØ¹Ù„ÙŠØ©
    filesToLoad.forEach((file, index) => {
      setTimeout(() => {
        const img = new Image();
        img.onload = img.onerror = () => {
          loadedCount++;
          updateProgress((loadedCount / totalFiles) * 100);
        };
        img.src = file;
      }, index * 200);
    });

    // Ø®Ø·ÙˆØ§Øª Ø¥Ø¶Ø§ÙÙŠØ©
    setTimeout(() => {
      loadedCount++;
      updateProgress((loadedCount / totalFiles) * 100);
    }, filesToLoad.length * 200 + 500);

    setTimeout(() => {
      loadedCount++;
      updateProgress((loadedCount / totalFiles) * 100);
    }, filesToLoad.length * 200 + 1000);

    setTimeout(() => {
      loadedCount++;
      updateProgress((loadedCount / totalFiles) * 100);
    }, filesToLoad.length * 200 + 1500);

    setTimeout(() => {
      loadedCount++;
      updateProgress((loadedCount / totalFiles) * 100);
    }, filesToLoad.length * 200 + 2000);

    setTimeout(() => {
      if (!isGameActive && !isSkipped) {
        updateProgress(100);
      }
    }, filesToLoad.length * 200 + 2500);
  </script>
</body>
</html>
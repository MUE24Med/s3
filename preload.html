<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Loading...</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  margin:0;
  background:#000;
  color:#fff;
  font-family:Arial, sans-serif;
  overflow:hidden;
  text-align:center;
}

/* ===== Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ØµÙ„ÙŠØ© ===== */
#loading-screen{
  padding-top:30px;
}

#logo{
  width:160px;
  margin-bottom:10px;
}

#loading-text{
  color:#ffcc00;
  font-size:20px;
  margin:10px 0;
}

#lights{
  display:flex;
  justify-content:center;
  gap:10px;
  margin:15px 0;
}

.light{
  width:16px;
  height:16px;
  border-radius:50%;
  background:#222;
  border:1px solid #444;
}

.light.on{ background:#ffcc00; box-shadow:0 0 10px #ffcc00; }

/* ===== Ø§Ù„Ù„Ø¹Ø¨Ø© (ØªØ­Øª Ø§Ù„ØªØ­Ù…ÙŠÙ„) ===== */
#game-wrapper{
  margin-top:20px;
}

#game{
  position:relative;
  width:320px;
  height:360px;
  margin:0 auto;
  background:#111;
  border:2px solid #555;
  overflow:hidden;
}

/* Ø§Ù„Ù„Ø§Ø¹Ø¨ */
#player{
  position:absolute;
  bottom:10px;
  font-size:30px;
  transform:translateX(-50%);
}

/* Ø§Ù„Ø¹Ù†Ø§ØµØ± */
.item{
  position:absolute;
  font-size:26px;
}

/* Ø§Ù„ØªØ­ÙƒÙ… */
#controls{
  width:320px;
  margin:10px auto;
  display:flex;
  justify-content:space-between;
}

button{
  font-size:22px;
  padding:6px 20px;
  cursor:pointer;
}
</style>
</head>

<body>

<!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ -->
<div id="loading-screen">
  <img id="logo" src="image/0.png" alt="logo">
  <div id="loading-text">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>

  <div id="lights">
    <div class="light"></div>
    <div class="light"></div>
    <div class="light"></div>
    <div class="light"></div>
  </div>
</div>

<!-- Ø§Ù„Ù„Ø¹Ø¨Ø© -->
<div id="game-wrapper">
  <div id="game">
    <div id="player">ğŸ‘¨â€âš•ï¸</div>
  </div>

  <div id="controls">
    <!-- Ø²Ø± Ø¸Ø§Ù‡Ø± ÙŠØ³Ø§Ø± Ù„ÙƒÙ† ÙØ¹Ù„ÙŠÙ‹Ø§ ÙŠÙ…ÙŠÙ† -->
    <button onclick="moveRight()">â¡ï¸</button>

    <!-- Ø²Ø± Ø¸Ø§Ù‡Ø± ÙŠÙ…ÙŠÙ† Ù„ÙƒÙ† ÙØ¹Ù„ÙŠÙ‹Ø§ Ø´Ù…Ø§Ù„ -->
    <button onclick="moveLeft()">â¬…ï¸</button>
  </div>
</div>

<script>
/* ===== Ø£Ù†ÙˆØ§Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„ ===== */
const lights = document.querySelectorAll(".light");
let lightIndex = 0;
setInterval(()=>{
  lights.forEach(l=>l.classList.remove("on"));
  lights[lightIndex].classList.add("on");
  lightIndex = (lightIndex+1)%lights.length;
},400);

/* ===== Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø© ===== */
const game = document.getElementById("game");
const player = document.getElementById("player");
const lanes = [80,160,240];
let laneIndex = 1;

function updatePlayer(){
  player.style.left = lanes[laneIndex]+"px";
}
updatePlayer();

/* ===== Ø­Ø±ÙƒØ© Ù…Ø¹ÙƒÙˆØ³Ø© ===== */
function moveLeft(){
  if(laneIndex < 2){
    laneIndex++;
    updatePlayer();
  }
}

function moveRight(){
  if(laneIndex > 0){
    laneIndex--;
    updatePlayer();
  }
}

/* ===== ÙƒÙŠØ¨ÙˆØ±Ø¯ Ù…Ø¹ÙƒÙˆØ³ ===== */
document.addEventListener("keydown",e=>{
  if(e.key==="ArrowLeft") moveRight();
  if(e.key==="ArrowRight") moveLeft();
});

/* ===== Ø³Ù‚ÙˆØ· Ø¹Ù†ØµØ± ÙˆØ§Ø­Ø¯ ÙÙ‚Ø· ===== */
function spawnItem(){
  const el = document.createElement("div");
  el.className="item";

  const r = Math.random();
  if(r < 0.4) el.textContent="ğŸ¦ ";
  else if(r < 0.7) el.textContent="â˜£ï¸";
  else el.textContent="ğŸ’Š";

  const lane = Math.floor(Math.random()*3);
  el.style.left = lanes[lane]+"px";
  el.style.top="0px";
  game.appendChild(el);

  let y=0;
  function fall(){
    y+=2;
    el.style.top=y+"px";

    if(y < game.clientHeight){
      requestAnimationFrame(fall);
    }else{
      el.remove();
    }
  }
  fall();
}

/* ===== Ø¹Ù†ØµØ± ÙƒÙ„ Ø´ÙˆÙŠØ© ===== */
setInterval(spawnItem,1200);
</script>

</body>
</html>